{% form_theme form "ApplicationSonataUserBundle:Form:field_errors.html.twig" %}

<div class="page-header">
    <h1>{{ 'registration.submit'|trans({}, "FOSUserBundle") }}
        <small>{{ 'form.register.new_account'|trans({}, "FOSUserBundle") }}</small></h1>
</div>

<form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }}
      method="POST" class="form-horizontal fos_user_registration_register">

    {% if (form.username.vars.errors is defined and form.username.vars.errors|length > 0) %}
        {% set usernameErrorClass = 'error' %}
    {% endif %}
    <div class="control-group {{ usernameErrorClass|default('') }}">
        <div class="controls">
            <div class="input-prepend">
                <span class="add-on"><i class="icon-user"></i></span>
                <input id="fos_user_registration_form_username"
                       name="fos_user_registration_form[username]"
                       size="16" type="text" required="required" pattern=".{2,}"
                       placeholder="{{ 'form.username'|trans({}, "FOSUserBundle") }}" />
            </div>
            {{ form_errors(form.username) }}
        </div>
    </div>

    {% if (form.email.vars.errors is defined
    and form.email.vars.errors|length > 0) %}
        {% set emailErrorClass = 'error' %}
    {% endif %}
    <div class="control-group {{ emailErrorClass|default('') }}">
        <div class="controls">
            <div class="input-prepend">
                <span class="add-on"><i class="icon-envelope"></i></span>
                <input id="fos_user_registration_form_email"
                       name="fos_user_registration_form[email]"
                       size="16" type="text" required="required"
                       placeholder="{{ 'form.email'|trans({}, "FOSUserBundle") }}" />
            </div>
            {{ form_errors(form.email) }}
        </div>
    </div>

    {% if (form.plainPassword['first'].vars.errors is defined
    and form.plainPassword['first'].vars.errors|length > 0) %}
        {% set plainPasswordFirstErrorClass = 'error' %}
    {% endif %}
    <div class="control-group {{ plainPasswordFirstErrorClass|default('') }}">
        <div class="controls">
            <div class="input-prepend">
                <span class="add-on"><i class="icon-key"></i></span>
                <input id="fos_user_registration_form_plainPassword_first"
                       name="fos_user_registration_form[plainPassword][first]"
                       size="16" type="password" required="required"
                       placeholder="{{ 'form.password'|trans({}, "FOSUserBundle") }}" />
            </div>
            {{ form_errors(form.plainPassword['first']) }}
        </div>
    </div>

    {% if (form.plainPassword['second'].vars.errors is defined
    and form.plainPassword['second'].vars.errors|length > 0) %}
        {% set plainPasswordSecondErrorClass = 'error' %}
    {% endif %}
    <div class="control-group {{ plainPasswordSecondErrorClass|default('') }}">
        <div class="controls">
            <div class="input-prepend">
                <span class="add-on"><i class="icon-pencil"></i></span>
                <input id="fos_user_registration_form_plainPassword_second"
                       name="fos_user_registration_form[plainPassword][second]"
                       size="16" type="password" required="required"
                       placeholder="{{ 'form.password_confirmation'|trans({}, "FOSUserBundle") }}" />
            </div>
            {{ form_errors(form.plainPassword['second']) }}
        </div>
    </div>

    {{ form_row(form._token) }}

    <div class="form-actions">
        <button id="_submit" name="_submit" type="submit" class="btn btn-primary">
            <i class="icon-download-alt"></i> {{ 'registration.submit'|trans({}, 'FOSUserBundle') }}
        </button>
        <button id="_reset" name="_reset" type="reset" class="btn">
            <i class="icon-refresh icon"></i> {{ 'registration.reset'|trans({}, 'FOSUserBundle') }}
        </button>
    </div>
</form>
